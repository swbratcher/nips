
NIP-G0
======

Geospatial Tags for Nostr Events
--------------------------------

`draft` `optional`

This NIP offers a standard for geospatial tagging in Nostr events. It defines a flexible structure to designate an event's location and area of impact or relevance. By implementing this standard DVMs, clients, and relays can enable location-based search, filtering, and user discovery through location based notes.


## Motivation

Geospatial data is essential for many use cases, such as:
- Localized news or alerts
- Events with regional or global impact
- Community engagement based on proximity
- Privacy-conscious tagging for relevance without precise location sharing

Currently, no standardized geospatial tagging exists in Nostr. This proposal defines a lightweight and hierarchical tagging approach to address this gap while ensuring backward compatibility.


## Specification

This NIP defines two primary tag types: **`geo_loc`** and **`geo_rel`**.

### 1. `geo_loc` [optional] The geo-location of the event.
Represents the event’s origin location. Each tag specifies a geographic or political level. Multiple tags may be used to define a hierarchy:
- `"dist"`: Neighborhood or sub-municipal area.
- `"muni"`: Specified municipality.
- `"metro"`: Metropolitan multi-municipal context.
- `"county"`: County or similar administrative division.
- `"reg"`: Region named or general, non-state, non-province.
- `"state"`: State specified.
- `"prov"`: Province specified.
- `"nat"`: National context.
- `"cont"`: Continental context.

Example:
```json
["geo_loc", "muni", "Jefferson City"]
["geo_loc", "reg", "Missouri"]
["geo_loc", "nat", "USA"]
```

### 2. `geo_rel`
Represents the geographic or political areas affected or relevant to the event. The structure mirrors `location_hierarchy` but can include multiple locations to define broader or specific impacts.

Example:
```json
["geo_rel", "muni", "Kansas City"]
["geo_rel", "muni", "St. Louis"]
["geo_rel", "state", "Missouri"]
["geo_rel", "nat", "USA"]
```

### Added Standardized Tags (to update README.md)

| name              | value                                | other parameters                | NIP                                                |
| ----------------- | ------------------------------------ | ------------------------------- | -------------------------------------------------- |
| `geo_loc`               | The geo-location of the event.        | `dist`, `muni`, `metro`, `county`, `reg`, `state`, `prov`, `nat`, `cont`                       | [G0](G0.md)                                        |
| `geo_rel`               | The event impact or relevance.        | `dist`, `muni`, `metro`, `county`, `reg`, `state`, `prov`, `nat`, `cont`                       | [G0](G0.md)                                        |

### Usage Notes
- Both `location_hierarchy` and `impact_hierarchy` are optional.
- Tags are designed to be lightweight and compatible with existing Nostr infrastructure.
- Clients and relays that do not recognize these tags will ignore them without disruption.


## Rationale

This design leverages Nostr’s existing flat tagging structure to ensure compatibility and ease of use:
- **Flexibility**: Supports diverse use cases, from hyperlocal events to global phenomena.
- **Privacy**: Allows generalized or anonymized location tagging.
- **Compatibility**: Relies on standard tag processing, ensuring backward compatibility.


## Security Considerations

Geospatial data may raise privacy concerns. Event creators should carefully select the level of detail in location and impact tags to balance utility with privacy. Clients should offer tools for users to obfuscate or anonymize location data where appropriate.


## Backward Compatibility

This NIP does not affect existing Nostr functionality. Tags introduced here are optional and will be ignored by clients or relays that do not implement this NIP.


## Example Use Case

**Missouri State Law Example:**
```json
{
    "id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
    "pubkey": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
    "created_at": 1702137600,
    "kind": 1,
    "tags": [
        ["location", "<location>"]
        ["g", "9yy7vdxxy2g6s6qf"],
        ["w3w", "///farm.vines.index"],
        ["geo_loc", "muni", "Jefferson City"],
        ["geo_loc", "reg", "Missouri"],
        ["geo_loc", "nat", "USA"],
        ["geo_rel", "muni", "Kansas City"],
        ["geo_rel", "muni", "St. Louis"],
        ["geo_rel", "state", "Missouri"]
    ],
    "content": "Missouri has passed a new state law that directly impacts municipal regulations in Kansas City and St. Louis. The law, focused on zoning changes for housing developments, applies only to these cities while exempting others in the state."
}
```

## References

- NIP-01: Basic Event Structure
- NIP-52: Event Categorization and Metadata

Geo heirarchies: https://wikitravel.org/en/Wikitravel:Geographical_hierarchy